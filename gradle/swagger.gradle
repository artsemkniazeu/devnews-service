openApiGenerate {
    generatorName = "custom-spring"
    inputSpec = "$rootDir/src/main/resources/swagger/openapi.yaml".toString()
    outputDir = "$buildDir/generated".toString()
    apiPackage = "${basePackage}.controller.api".toString()
    modelPackage = "${basePackage}.model.rest".toString()
    modelNamePrefix = "Rest"
    configOptions = [
            dateLibrary  : "java11",
            interfaceOnly: "true",
            useTags      : "true"
    ]
}

sourceSets {
    main {
        java {
            srcDir swaggerSourceDir
        }
    }
}


compileJava.dependsOn tasks.openApiGenerate